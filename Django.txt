‚úÖ DHCP Kya Hota Hai?

DHCP ka matlab hai Dynamic Host Configuration Protocol.
Ye network ke devices (PC, laptop, mobile) ko automatic IP address, subnet mask, gateway, DNS deta hai ‚Äî bina manually set kiye.

üî• DHCP Process (Step-by-step, Roman English)

DHCP ka process 4 steps per based hota hai, jise hum DORA bolte hain:

1Ô∏è‚É£ D ‚Äì Discover

Client (PC) network par broadcast message bhejta hai:
"Kya koi DHCP server mujhe IP de sakta hai?"

Ye broadcast hota hai:
0.0.0.0 ‚Üí 255.255.255.255

2Ô∏è‚É£ O ‚Äì Offer

DHCP server reply karta hai:
"Haan, ye lo ek IP jo free hai."

Server ek DHCP Offer message bhejta hai jisme hota hai:
‚úî IP address
‚úî Subnet mask
‚úî Gateway
‚úî Lease time

3Ô∏è‚É£ R ‚Äì Request

Client bolta hai:
"Theek hai server, mujhe ye wali IP de do!"
Ye bhi broadcast hota hai taake sab DHCP servers sun lein.

4Ô∏è‚É£ A ‚Äì Acknowledgement

DHCP server final response bhejta hai:
"IP assign hogayi ‚Äî tum use kar sakte ho."
Isko DHCP ACK bolte hain.

Ab client network per chalne ke liye ready hota hai.

üñ• DHCP Implementation (Practical)

Neeche do tarike hain:
‚≠ê 1. DHCP on Windows (Server 2016/2019/2022)
Step 1: DHCP Server Role Install
Server Manager open karo
‚ÄúAdd Roles and Features‚Äù
Server Roles ‚Üí DHCP Server

Install

Step 2: DHCP Server Configure
Server Manager ‚Üí Notification Flag ‚Üí Complete DHCP Configuration
DHCP Authorization kar do
Step 3: New Scope Create
DHCP Manager ‚Üí IPv4 ‚Üí Right-click ‚Üí New Scope
Scope name do (e.g., ‚ÄúOffice Network‚Äù)
IP Range set karo
Start: 192.168.1.10
End: 192.168.1.200
Subnet Mask: 255.255.255.0
Add Default Gateway ‚Äî e.g., 192.168.1.1
Add DNS server ‚Äì e.g., 8.8.8.8
Scope ready!

‚≠ê 2. DHCP on Cisco Router (CLI)
Router(config)# ip dhcp pool OFFICE
Router(config-dhcp)# network 192.168.1.0 255.255.255.0
Router(config-dhcp)# default-router 192.168.1.1
Router(config-dhcp)# dns-server 8.8.8.8
Router(config-dhcp)# lease 1 12 0


Gateway ke liye exclude range:
Router(config)# ip dhcp excluded-address 192.168.1.1 192.168.1.9
üìå DHCP Client Setting (Windows PC)

Control Panel ‚Üí Network ‚Üí Adapter settings
Right-click ‚Üí Properties
IPv4 settings
Select:

‚úî Obtain IP address automatically
‚úî Obtain DNS automatically

Client DORA process se IP le lega.



‚úÖ 1. PING kya hota hai?

PING ek network test command hoti hai jo check karti hai ke:
Koi device online hai ya nahi
Us tak packet pohanch raha hai ya nahi
Network slow hai ya fast

üîπ PING kya karta hai?

Ping device ko ICMP Echo Request bhejta hai
Agar reply aaye ‚Üí ICMP Echo Reply

Example:
ping 8.8.8.8


Agar reply aaye ‚Üí Matlab internet chal raha hai
Agar ‚ÄúRequest Timed Out‚Äù ‚Üí Problem hai

‚úÖ 2. TRACEROUTE (trace route) kya hota hai?

Traceroute ek command hoti hai jo batati hai:
Packet kis-kis device (routers) se guzarta hai
Kis hop per delay ho raha
Kaun sa route follow ho raha

Yani:

Ping batata ‚Üí "Reach hoga ya nahi"
Trace route batata ‚Üí "Kaise reach ho raha hai"

Windows:
tracert 8.8.8.8

Linux / Cisco:
traceroute 8.8.8.8

‚òë Example Output (Samajhne ke liye)

1 hop ‚Üí aapka router
2 hop ‚Üí ISP router
3 hop ‚Üí backbone router

Is tarah saari route list ho jati hai.

‚úÖ 3. DNS kya hota hai?

DNS = Domain Name System

Ye internet ka phonebook hai.
Aap jab likhte ho:

www.google.com


To DNS is name ko IP address mein convert karta:

142.250.190.78

Agar DNS na ho:

To aapko websites IP se open karni padti:

https://142.250.190.78





trunk
hmary pas 2 switches hai wha 2 lag alg pcs hai darmyan ma ak wire wo wire trunk khilaye gi
hamry jo pcs hai wo port number nhi smjhty vlan ko kya hai 
agr ak switch k 2 pcs hai unka vlan 10 or 20 or dosry ma 10 or 20
mujhe trfafci send krni ak switch k 10 sy dosry k 10 pr tu nhi hogi bina trunk k
trunk ko frame tagging b khty hai ya tag lagata hai ya traffic kis ka hai

vlan create
en config
vlan 10 
name hr
exit
vlan 20 
name market
exit

ab 
2 2 interface pr ya assign krni vlan 

interface fa0/1
switchport mode access 
switchport access vlan 10

ham rnage b dy skty Jha ya valna bnani jin jin poort pr
int range fa0/21-23

2nd 
switchport mode access
switchport access vlan 20

hogi configuration


int fa0/24
switchport mode trunk
 shutdown hogi

2nd switch
en
config t
switcport 
vlan create kry ga hr service ki 

switchport mode access
switch access vlan 20
int range fa0/21-23 

phr darmyan wali acess krni interface
switcport mode trunk 

show int trunk kry ga 

encapsulation 8021q chlata difffenrt sofrwre pr run krny k liya krty 



NAT
private ip ko public public ko private ip ma
Rnage of private ip address

10.0.0.0 to 10.255.255.255 2power24
172.16.0.0 to 172.31.255.255 2 power 20
192.168.0.0 192.168.255.255 power 16

koi ip kisi organization ma use horha hoga 
internet ko nhi pata ya kya hai internet Esko public ip sy jany ga
koi domain name liya hai 
10.0.0.2 Esko bahir kuch b access krna 
ya packet generate kry ga source address apna destioantion ddress
us website ka address ip 25.25.255.25 
ya packet nat k pas ponchy ga 
esny es source address ko kat kr www dns wala dal dena hai 
access k bad reply aye ga server wo apna address or detaionation 10.0.0.2 hoga
ya nat translate kry a ab public ko private ip ma convert kry ga
ya transaltie table ma store kry ga 

wapsi pr server dns wala source or destination public ip wala

jaty hovy source apna address destion jo access krna 
wapsi pr source jesny bhja bahor sy destionation www walaa
ab ak table bana Jha likha private ip public
private jaty waqt source dsatin jo access krna 
tu source wala public ko private ma convert krdy ga]

latest 
ip k sath port number store krna
agr multiple same public ip access kr hu



NAT Again
ipv4 ka hogy 
ipv6 agya tha

shortage k liya nat use hota phly ipv6 sy phly


Ipv4 
public 
private

private IP Address

10.0.0.0 to 10.255.255.255 2power24
172.16.0.0 to 172.31.255.255 2 power 20
192.168.0.0 192.168.255.255 power 16


IANA 
eska mtlb jes pc ko public address assign rk hy wo unique hn
all wordl dosry ko access na kiaya jaye

private local network ma use hoty hai
1000 computer lagany k liya private ip use kr skty hai
private ip sy internet sy access nhi kr skty hai ham
ab kuch compueter ko internet access chaye 
private ka mtlb agr ap use krrkhy wo koi or use kr ha hn orignization b

ham internet rute enable kry ga

ak router example
jab interne tpr request jaye gi source destination b public hn
lakin abi source private hai router pr nat enable krdiya gya
nat sy ip private ko public ma convert krdiya

ab source desation public hojaye ga
hamny computer ma ip use krr hry ip private hai
ham private ip ko internet pr nhi jaskty ham
by defuakt router pr nating hoga wo translate hogy unko public ip address use hoga


local ma public ip assign krty
hamny private acces kiya
hmany gateway pr nat laga diya


Types
ak host hai pc ya host pc ak roter sy connect hai company k 
ya router internet k sath connect hai internet k sath server connect hai 
ip 112.1.1.1 hai pc ka ip private hai 192.168.10.1 hai router ka ip 2.2.2.2 hai 
agr ma web server ko access krta 
source ip host sy 192.168.10.1 hai destioantion ip 112.1.1.1 hai 
ya packet router k pas hai router agy forward kry ga
router pr nating krni pry gy  nat enable ki waja sy translantion hoga
1 public ip address ly.iya 2.2.2.4 hai
hamny command di es ip sy request aye usko translate krdo 2.2.2.4
ab source ip 2.2.2.4 hoga destiowntion 112.1..1. hoga

server reverse kry ga us condtion ma source ip apna bana dy ga
112.1.1.1 2.2.2.4 hojaye ga
router pr aye gi ya information ant phly nat table check kry ga
nat table ma information hai 192.168.10.1 2.2.2.4 ma translate kiya gya
source hoajye ga ab 112.1.1.1 destination 192.168.10.1 hojay

inside local
inside global
outside local
outside global


ya source ip 192.168.10.1 inside local hai translate kr rhy wo inside global hoga
jo destination ip hai server ka ip wapise wo outside local and outside hlobal hoga
destiona address outside localor outside global hoga


router ko kasy pata chly ga konsa inside or konsa outside hai
ip nat inside
ip nat outside 
command dyga port pr ham

agr mery pas multiple host hai
usky liya mujhe ya one to one ya static route hai 
ak private k liya public Esko static nat khty hai

agr mery pass multiple host hai ak switch pr
tu es cndtiion ma dynamic nat hoga use

es condition ma ham ak pool create kry ga private naddres k liya
kuch slected users hai 100+ user hai
internet acces krty hai wo 10 hai baki user local pr connect kr rhy
kuch users ko access krna hai

phr dynamic nat hai ak pool bnaye ga
2.2.2.3 to 2.2.2.10 ak rnage purchase krli gae 
ya address use hogy ya jo connected networks hai

255 user route kry ga tu 3 to 10 connected hogy 8 users connected hogy 
pool ma itny hi hai

acl use kr skty esky sath
ak router hai esmy switch hai connectd hai switch pr multiple users hai
sab alg network use kr rhy hai

10.10.10.0 ny internet access krna esky liya access list bana dyga 
acl bnaaye ga
acl ko match krwadiya pool k sath match krwadiya
jab ya ip k user out hogy limit waly use kr skty at a time kitny 8 jaksty hai
ip address fixed nhi hai mtlb jo pc network unko k liya address fixed nhi
ya pool k beach koi b use hojaye ga


hamry pass public address limit hai
pat 
port address translation 
0-65535 hai


ak routr ak swotch swotch ma multiple users wo private netowkr use kr rhy
isp k stah connect interns k sath ak web server 12.1.1.1 hai 
k total /24 ka network k sabhi user es server ko acces kry ga
jo outside interface pr assig 2.2.2.2 sy access kry ga use krkry
0r khrdany ki zarorat na pry 
sabka source ip 2.2.2.2 rhy ga
10.01.10.1 translate 2.2.2.2
10.01.10.2 translate 2.2.2.2
10.01.10.3 translate 2.2.2.2
10.01.10.4 translate 2.2.2.2

same ip address ma translate hoga
ya different different port number use kry ga
10.01.10.1 translate 2.2.2.2 8082
10.01.10.2 translate 2.2.2.2 8083
10.01.10.3 translate 2.2.2.2 8084
10.01.10.4 translate 2.2.2.2 8085

ab alida alida hoagy

types nat
static nat one to one
dynamic pool 1-10
part single ip+ used port number 




LAB


First One pc one router one cloud one web server
router
en
config
inte0/0
ip add 192.168.10.1 255.255.255.0
no shut
 exit
ip default-g 
ipdefault-gateway 192.168.10.2

1
host NAT
2
en 
conf t
host ISP
3
hostname webserver 
r2 int e0/0
ip add 192.168.10.2 255.255.255.0
no shut

ISP router int e0/1
ip add 112.1.1012 255.255.255.0
no shut

int e0/1
ip add 112.1.1012 255.255.255.0
alg hoga ip aya

web server pr ip assign kry ga ham

ham router sy jana hai isp k pas deaufl route towards isp
generate kry ga ham
ip route 0.0.0.0 0.0.0.0 e0/1
ya route private bahor nhi jaye ga ips k pas traffic k pas nhi jaye ga nat enable krni pry gi
router ki websserv k sath routing honi chaye

router sy web server sy pin krr rha
r2 ips k sath connected hai router ki source or destion public hai 
public address unique hai ip jo liya jabtk license hai
wo ap use kry ga
private k sath communicate nhi hoga ya free hai ya multiple use kr rhyhogy

one to one nating static

jab r1 ka traffic r2 sy bahit jaye ga wo change hojaye ga

r2 route pr aye ga ham
hamy router pr inside or outside router konsa hai

conf
int e0/0
ip add 192.168.0.2 255.255.255.0
ip nat outside
int e0/1
ip nat inside

translate krna jesmy usko global khty inside esky bad ana jo
ip nat inside source static 192.168.10.1 112.1.1.3 

ab ham r1 ps su ping kry ga 
192.168.10.1 translate hoga 112.1.1.3 ma 



dynamic  nat krna hai
mujhe multiple users chaye pool bnaaye ga ham
ab route 1 k sath ak swotch or 2 pcs connected kry ga

ab hoamy pool create krna pry ga
112.1.1.3-112.1.1.5
3 to 5 pool hai ISP sy purchase kiya hai ya pool


router 2 pr aye ga
no ip routing
disable ki routing
jo new pc liya ip assign kry ga unko
hamny ip fix nhi krna pool mila hai kpi b use kr skta koi b pc public address masy

jo intersetd traffic acl banan pry gi
agr ak trf multiple networks hai kisi ak ko outside network k liya ham
acl banaye ga iterseted traffic k liya pool bnaye ga or access list 
banaye ga ham


router 2 ma 

ip nat pool name(itindex) 112.1.1.3 (end ip) 112.1.1.5 netmask 255.255.255.0
access-list 10 permit 192.168.10.0 0..0.255

apply k liya
ip nat inside source list 10 pool itindex 
k ak network ko map krwa diya pool waly ips k luya
translate krny k liya
sh ip nat translations


ab ak ip use krna
public ip ak rhy ga 


pat configuration
agr enable krna nat no laga kr sari command wo jo laga rhy ham

ip nat inside source-list 10 interface e0/1 


